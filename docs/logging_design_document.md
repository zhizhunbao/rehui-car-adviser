# ğŸ“‹ æ—¥å¿—è®¾è®¡æ–‡æ¡£ - å‰åç«¯ç»Ÿä¸€æ—¥å¿—è§„èŒƒ

## ğŸ“– æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†ç‘è¾‰æ±½è½¦é¡¾é—®ç³»ç»Ÿçš„ç»Ÿä¸€æ—¥å¿—è§„èŒƒï¼Œç¡®ä¿å‰åç«¯æ—¥å¿—èƒ½å¤Ÿæœ‰æ•ˆé“¾æ¥ï¼Œä¾¿äºé—®é¢˜è¿½è¸ªå’Œç³»ç»Ÿç›‘æ§ã€‚

### ğŸ¯ è®¾è®¡ç›®æ ‡

1. **å‰åç«¯é“¾æ¥**: é€šè¿‡ç»Ÿä¸€çš„è¿½è¸ªIDå®ç°å‰åç«¯æ—¥å¿—å…³è”
2. **è§åçŸ¥æ„**: æ—¥å¿—å†…å®¹ç®€æ´æ˜äº†ï¼Œå¿«é€Ÿç†è§£ä¸šåŠ¡æ“ä½œ
3. **ç»“æ„åŒ–**: ç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼ï¼Œä¾¿äºè§£æå’Œåˆ†æ
4. **å¯è¿½è¸ª**: å®Œæ•´çš„è°ƒç”¨é“¾è·¯è¿½è¸ª
5. **æ€§èƒ½å‹å¥½**: æœ€å°åŒ–æ—¥å¿—å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“

## ğŸ—ï¸ æ—¥å¿—æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯æ—¥å¿—å™¨     â”‚    â”‚   åç«¯æ—¥å¿—å™¨     â”‚    â”‚   æ—¥å¿—èšåˆå™¨     â”‚
â”‚  (TypeScript)   â”‚â—„â”€â”€â–ºâ”‚   (Python)      â”‚â—„â”€â”€â–ºâ”‚   (File/DB)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¯·æ±‚è¿½è¸ªID     â”‚    â”‚   è¯·æ±‚è¿½è¸ªID     â”‚    â”‚   ç»Ÿä¸€å­˜å‚¨      â”‚
â”‚   (Trace ID)    â”‚    â”‚   (Trace ID)    â”‚    â”‚   (Storage)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ æ—¥å¿—æ ¼å¼è§„èŒƒ

### ç»Ÿä¸€æ—¥å¿—æ ¼å¼

```
æ—¶é—´æˆ³ | æ‰§è¡Œåºå· | åŒ…å.æ–¹æ³•å:è¡Œå· | ç»“è®º - åŸå› 
```

### æ ¼å¼è¯´æ˜

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ | é•¿åº¦é™åˆ¶ |
|------|------|------|----------|
| æ—¶é—´æˆ³ | ISO 8601æ ¼å¼ | 2025-01-06 14:30:25 | - |
| æ‰§è¡Œåºå· | æ‰§è¡Œé¡ºåºæ ‡è¯† | 1, 1.1, 1.1.1 | 10å­—ç¬¦ |
| åŒ…å.æ–¹æ³•å:è¡Œå· | è°ƒç”¨ä½ç½® | app.api.routes.search_cars:25 | 50å­—ç¬¦ |
| ç»“è®º - åŸå›  | æ“ä½œç»“æœå’ŒåŸå›  | å¼€å§‹æœç´¢è¯·æ±‚ - ç”¨æˆ·è¾“å…¥"2020å¹´ä¸°ç”°å‡¯ç¾ç‘" | 200å­—ç¬¦ |

### å…³é”®éƒ¨ä½æ—¥å¿—ç­–ç•¥

**åªåœ¨ä»¥ä¸‹å…³é”®éƒ¨ä½åŠ æ—¥å¿—**ï¼š
1. **å…¥å£ç‚¹** - APIæ¥å£ã€ä¸»è¦ä¸šåŠ¡å‡½æ•°
2. **å…³é”®å†³ç­–ç‚¹** - æ¡ä»¶åˆ†æ”¯ã€å¼‚å¸¸å¤„ç†
3. **å¤–éƒ¨è°ƒç”¨** - æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹APIã€çˆ¬è™«
4. **çŠ¶æ€å˜åŒ–** - æ•°æ®è½¬æ¢ã€çŠ¶æ€æ›´æ–°
5. **é”™è¯¯å¤„ç†** - å¼‚å¸¸æ•è·ã€é”™è¯¯æ¢å¤

### ç¤ºä¾‹æ—¥å¿—

#### åç«¯æ—¥å¿—
```
2025-01-06 14:30:25 | 1 | app.api.routes.search_cars:25 | å¼€å§‹æœç´¢è¯·æ±‚ - ç”¨æˆ·è¾“å…¥"2020å¹´ä¸°ç”°å‡¯ç¾ç‘"
2025-01-06 14:30:26 | 1.1 | app.services.gemini_service.parse_query:15 | AIè§£ææˆåŠŸ - å“ç‰Œ=Toyota, è½¦å‹=Camry, å¹´ä»½=2020
2025-01-06 14:30:28 | 1.2 | app.services.cargurus_scraper.search:45 | çˆ¬è™«æœç´¢å®Œæˆ - æ‰¾åˆ°15è¾†è½¦æºï¼Œè€—æ—¶2.3ç§’
2025-01-06 14:30:29 | 1.3 | app.services.gemini_service.analyze:78 | AIåˆ†æå®Œæˆ - æ¨è3è¾†æ€§ä»·æ¯”æœ€é«˜çš„è½¦
2025-01-06 14:30:30 | 1.4 | app.api.routes.search_cars:25 | æœç´¢æˆåŠŸ - è¿”å›15æ¡ç»“æœç»™å‰ç«¯
```

#### å‰ç«¯æ—¥å¿—
```
2025-01-06 14:30:25 | 1 | src.components.SearchForm.handleSubmit:45 | ç”¨æˆ·æäº¤æœç´¢ - æŸ¥è¯¢"2020å¹´ä¸°ç”°å‡¯ç¾ç‘"
2025-01-06 14:30:25 | 1.1 | src.components.SearchForm.handleSubmit:50 | å‘é€APIè¯·æ±‚ - POST /api/searchï¼Œå‚æ•°å·²åºåˆ—åŒ–
2025-01-06 14:30:28 | 1.2 | src.components.SearchForm.handleResponse:78 | æ¥æ”¶æœç´¢ç»“æœ - 15æ¡æ•°æ®ï¼ŒçŠ¶æ€ç 200
2025-01-06 14:30:28 | 1.3 | src.components.SearchForm.handleResponse:85 | æ›´æ–°UIæˆåŠŸ - æ˜¾ç¤º15è¾†è½¦æºå¡ç‰‡
2025-01-06 14:30:29 | 1.4 | src.components.CarList.render:92 | æ¸²æŸ“å®Œæˆ - 15ä¸ªCarCardç»„ä»¶å·²æŒ‚è½½
```

## ğŸ”— å‰åç«¯é“¾æ¥æœºåˆ¶

### æ‰§è¡Œåºå·ç³»ç»Ÿ

#### 1. åºå·ç”Ÿæˆè§„åˆ™
- **æ ¼å¼**: `æ•°å­—.æ•°å­—.æ•°å­—` (å¦‚: 1, 1.1, 1.1.1)
- **ç”Ÿæˆæ—¶æœº**: æ¯æ¬¡å…³é”®æ“ä½œæ—¶è‡ªåŠ¨é€’å¢
- **ä½œç”¨èŒƒå›´**: å•æ¬¡ç”¨æˆ·æ“ä½œå®Œæ•´æµç¨‹
- **åµŒå¥—æ”¯æŒ**: æ”¯æŒä¸»æ“ä½œå’Œå­æ“ä½œçš„å±‚çº§å…³ç³»

#### 2. åºå·ç®¡ç†ç­–ç•¥
- **ä¸»æ“ä½œ**: ä½¿ç”¨æ•´æ•°åºå· (1, 2, 3...)
- **å­æ“ä½œ**: ä½¿ç”¨å°æ•°åºå· (1.1, 1.2, 1.3...)
- **åµŒå¥—æ“ä½œ**: ä½¿ç”¨å¤šçº§å°æ•° (1.1.1, 1.1.2...)
- **çº¿ç¨‹å®‰å…¨**: ä½¿ç”¨é”æœºåˆ¶ä¿è¯åºå·å”¯ä¸€æ€§

### å‰åç«¯æ—¥å¿—å…³è”æµç¨‹

```mermaid
sequenceDiagram
    participant F as å‰ç«¯
    participant B as åç«¯
    participant L as æ—¥å¿—ç³»ç»Ÿ

    F->>F: å¼€å§‹æ“ä½œï¼Œç”Ÿæˆåºå· 1
    F->>F: è®°å½•å‰ç«¯æ—¥å¿— "1 | ç”¨æˆ·æäº¤æœç´¢"
    F->>B: HTTPè¯·æ±‚
    
    B->>B: æ¥æ”¶è¯·æ±‚ï¼Œç”Ÿæˆåºå· 1.1
    B->>B: è®°å½•åç«¯æ—¥å¿— "1.1 | å¼€å§‹æœç´¢è¯·æ±‚"
    B->>B: æ‰§è¡Œå­æ“ä½œï¼Œç”Ÿæˆåºå· 1.2
    B->>B: è®°å½•åç«¯æ—¥å¿— "1.2 | AIè§£ææˆåŠŸ"
    B->>L: å†™å…¥æ—¥å¿—æ–‡ä»¶
    
    B->>F: è¿”å›å“åº”
    F->>F: ç”Ÿæˆåºå· 1.3
    F->>F: è®°å½•å‰ç«¯æ—¥å¿— "1.3 | æ›´æ–°UIæˆåŠŸ"
    F->>L: å‘é€æ—¥å¿—åˆ°åç«¯(å¯é€‰)
```

## ğŸ“Š å…³é”®éƒ¨ä½æ—¥å¿—è§„èŒƒ

### æ—¥å¿—æ·»åŠ åŸåˆ™

**åªåœ¨ä»¥ä¸‹å…³é”®éƒ¨ä½åŠ æ—¥å¿—**ï¼š
1. **å…¥å£ç‚¹** - APIæ¥å£ã€ä¸»è¦ä¸šåŠ¡å‡½æ•°
2. **å…³é”®å†³ç­–ç‚¹** - æ¡ä»¶åˆ†æ”¯ã€å¼‚å¸¸å¤„ç†
3. **å¤–éƒ¨è°ƒç”¨** - æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹APIã€çˆ¬è™«
4. **çŠ¶æ€å˜åŒ–** - æ•°æ®è½¬æ¢ã€çŠ¶æ€æ›´æ–°
5. **é”™è¯¯å¤„ç†** - å¼‚å¸¸æ•è·ã€é”™è¯¯æ¢å¤

### å…³é”®éƒ¨ä½åˆ†å¸ƒ

#### åç«¯å…³é”®ç‚¹
```python
# 1. APIå…¥å£ç‚¹
@router.post("/search")
async def search_cars(request: SearchRequest):
    logger.log_result("å¼€å§‹æœç´¢è¯·æ±‚", f"ç”¨æˆ·è¾“å…¥: {request.query}")

# 2. å¤–éƒ¨è°ƒç”¨ç‚¹
async def search_cars_on_cargurus(query):
    logger.log_result("å¼€å§‹çˆ¬è™«æœç´¢", f"æŸ¥è¯¢: {query}")
    # ... çˆ¬è™«é€»è¾‘ ...
    logger.log_result("çˆ¬è™«æœç´¢å®Œæˆ", f"æ‰¾åˆ°{len(cars)}è¾†è½¦æº")

# 3. AIæœåŠ¡è°ƒç”¨ç‚¹
async def parse_query_with_ai(query):
    logger.log_result("å¼€å§‹AIè§£æ", f"åŸå§‹æŸ¥è¯¢: {query}")
    # ... AIè§£æé€»è¾‘ ...
    logger.log_result("AIè§£ææˆåŠŸ", f"å“ç‰Œ={result.brand}, è½¦å‹={result.model}")

# 4. é”™è¯¯å¤„ç†ç‚¹
try:
    # ... ä¸šåŠ¡é€»è¾‘ ...
except Exception as e:
    logger.log_result("æ“ä½œå¤±è´¥", f"é”™è¯¯: {str(e)}")
```

#### å‰ç«¯å…³é”®ç‚¹
```typescript
// 1. ç”¨æˆ·äº¤äº’å…¥å£ç‚¹
const handleSubmit = async (formData: SearchFormData) => {
  logger.logResult("ç”¨æˆ·æäº¤æœç´¢", `æŸ¥è¯¢: ${formData.query}`);
};

// 2. APIè°ƒç”¨ç‚¹
const searchCars = async (query: string) => {
  logger.logResult("å‘é€APIè¯·æ±‚", `POST /api/search`);
  // ... APIè°ƒç”¨ ...
  logger.logResult("APIè¯·æ±‚æˆåŠŸ", `è¿”å›${data.length}æ¡ç»“æœ`);
};

// 3. çŠ¶æ€å˜åŒ–ç‚¹
const updateSearchResults = (results: Car[]) => {
  logger.logResult("æ›´æ–°æœç´¢ç»“æœ", `æ˜¾ç¤º${results.length}è¾†è½¦æº`);
  setSearchResults(results);
};

// 4. é”™è¯¯å¤„ç†ç‚¹
catch (error) {
  logger.logResult("æ“ä½œå¤±è´¥", `é”™è¯¯: ${error.message}`);
}
```

## ğŸ› ï¸ å®ç°è§„èŒƒ

### åç«¯å®ç° (Python)

#### 1. å…³é”®éƒ¨ä½æ—¥å¿—å™¨
```python
# backend/utils/logger.py
import logging
import os
import inspect
from datetime import datetime
import threading

class KeyPointLogger:
    def __init__(self):
        self.sequence_counter = 0
        self.lock = threading.Lock()
        self.logger = self._setup_logger()
    
    def _setup_logger(self):
        os.makedirs('logs', exist_ok=True)
        
        logger = logging.getLogger('key_points')
        logger.setLevel(logging.INFO)
        
        # æ–‡ä»¶å¤„ç†å™¨
        file_handler = logging.FileHandler('logs/app.log', encoding='utf-8')
        formatter = logging.Formatter('%(asctime)s | %(sequence)s | %(call_stack)s | %(message)s')
        file_handler.setFormatter(formatter)
        logger.addHandler(file_handler)
        
        # æ§åˆ¶å°å¤„ç†å™¨
        console_handler = logging.StreamHandler()
        console_handler.setFormatter(formatter)
        logger.addHandler(console_handler)
        
        return logger
    
    def _get_next_sequence(self):
        with self.lock:
            self.sequence_counter += 1
            return str(self.sequence_counter)
    
    def _get_call_stack(self):
        frame = inspect.currentframe().f_back.f_back
        module_name = frame.f_globals.get('__name__', 'unknown')
        function_name = frame.f_code.co_name
        line_number = frame.f_lineno
        
        if module_name.startswith('app.'):
            package_path = module_name
        else:
            package_path = f"app.{module_name}"
        
        return f"{package_path}.{function_name}:{line_number}"
    
    def log_result(self, conclusion: str, reason: str = ""):
        """åªåœ¨å…³é”®éƒ¨ä½è®°å½•æ—¥å¿—"""
        sequence = self._get_next_sequence()
        call_stack = self._get_call_stack()
        
        if reason:
            message = f"{conclusion} - {reason}"
        else:
            message = conclusion
        
        self.logger.info(message, extra={
            'sequence': sequence,
            'call_stack': call_stack
        })

# å…¨å±€å®ä¾‹
logger = KeyPointLogger()
```

#### 2. ä½¿ç”¨ç¤ºä¾‹
```python
# å…³é”®éƒ¨ä½æ—¥å¿—ä½¿ç”¨
@router.post("/search")
async def search_cars(request: SearchRequest):
    logger.log_result("å¼€å§‹æœç´¢è¯·æ±‚", f"ç”¨æˆ·è¾“å…¥: {request.query}")
    
    try:
        # å¤–éƒ¨è°ƒç”¨ï¼šAIè§£æ
        parsed_query = await gemini_service.parse_query(request.query)
        logger.log_result("AIè§£ææˆåŠŸ", f"å“ç‰Œ={parsed_query.brand}, è½¦å‹={parsed_query.model}")
        
        # å¤–éƒ¨è°ƒç”¨ï¼šçˆ¬è™«æœç´¢
        cars = await cargurus_scraper.search(parsed_query)
        logger.log_result("çˆ¬è™«æœç´¢å®Œæˆ", f"æ‰¾åˆ°{len(cars)}è¾†è½¦æº")
        
        logger.log_result("æœç´¢æˆåŠŸ", f"è¿”å›{len(cars)}æ¡ç»“æœ")
        return cars
        
    except Exception as e:
        logger.log_result("æœç´¢å¤±è´¥", f"é”™è¯¯: {str(e)}")
        raise
```

### å‰ç«¯å®ç° (TypeScript)

#### 1. å…³é”®éƒ¨ä½æ—¥å¿—å™¨
```typescript
// frontend/src/utils/logger.ts
class KeyPointLogger {
  private sequenceCounter: number = 0;
  
  private getCallStack(): string {
    const stack = new Error().stack;
    if (!stack) return 'unknown:0';
    
    const lines = stack.split('\n');
    const callerLine = lines[3] || lines[2];
    
    if (callerLine) {
      const match = callerLine.match(/at\s+(.+?)\s+\((.+?):(\d+):\d+\)/);
      if (match) {
        const [, functionName, filePath, lineNumber] = match;
        const packagePath = filePath
          .replace(/\\/g, '/')
          .replace(/.*\/src\//, 'src.')
          .replace(/\.tsx?$/, '')
          .replace(/\//g, '.');
        
        return `${packagePath}.${functionName}:${lineNumber}`;
      }
    }
    
    return 'unknown:0';
  }
  
  private async writeToFile(message: string, sequence: string) {
    const callStack = this.getCallStack();
    
    try {
      await fetch('/api/logs/frontend', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          message,
          sequence,
          callStack,
          timestamp: new Date().toISOString()
        })
      });
    } catch (error) {
      console.error('Failed to write log to file:', error);
    }
  }
  
  async logResult(conclusion: string, reason: string = ''): Promise<void> {
    this.sequenceCounter++;
    const sequence = this.sequenceCounter.toString();
    const callStack = this.getCallStack();
    const message = reason ? `${conclusion} - ${reason}` : conclusion;
    
    // æ§åˆ¶å°è¾“å‡º
    console.log(`${sequence} | ${callStack} | ${message}`);
    
    // å†™å…¥æ–‡ä»¶
    await this.writeToFile(message, sequence);
  }
}

// å…¨å±€å®ä¾‹
const logger = new KeyPointLogger();
```

#### 2. ä½¿ç”¨ç¤ºä¾‹
```typescript
// å…³é”®éƒ¨ä½æ—¥å¿—ä½¿ç”¨
const handleSubmit = async (formData: SearchFormData) => {
  logger.logResult("ç”¨æˆ·æäº¤æœç´¢", `æŸ¥è¯¢: ${formData.query}`);
  
  try {
    // å¤–éƒ¨è°ƒç”¨ï¼šAPIè¯·æ±‚
    const response = await api.searchCars(formData);
    logger.logResult("APIè¯·æ±‚æˆåŠŸ", `è¿”å›${response.data.length}æ¡ç»“æœ`);
    
    // çŠ¶æ€å˜åŒ–ï¼šæ›´æ–°UI
    setSearchResults(response.data);
    logger.logResult("UIæ›´æ–°æˆåŠŸ", `æ˜¾ç¤º${response.data.length}è¾†è½¦æº`);
    
  } catch (error) {
    logger.logResult("æœç´¢å¤±è´¥", `é”™è¯¯: ${error.message}`);
    setError(error.message);
  }
};
```

## ğŸ“ æ—¥å¿—å­˜å‚¨è§„èŒƒ

### æ–‡ä»¶å‘½åè§„åˆ™
```
logs/
â”œâ”€â”€ {module_name}_{YYYYMMDD}.log          # æ¨¡å—æ—¥å¿—
â”œâ”€â”€ api_routes_{YYYYMMDD}.log             # APIè·¯ç”±æ—¥å¿—
â”œâ”€â”€ search_service_{YYYYMMDD}.log         # æœç´¢æœåŠ¡æ—¥å¿—
â”œâ”€â”€ gemini_service_{YYYYMMDD}.log         # AIæœåŠ¡æ—¥å¿—
â”œâ”€â”€ cargurus_scraper_{YYYYMMDD}.log       # çˆ¬è™«æœåŠ¡æ—¥å¿—
â””â”€â”€ rehui_car_adviser_{YYYYMMDD}.log      # ä¸»åº”ç”¨æ—¥å¿—
```

### æ—¥å¿—è½®è½¬ç­–ç•¥
- **æŒ‰å¤©è½®è½¬**: æ¯å¤©åˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶
- **ä¿ç•™æœŸé™**: ä¿ç•™æœ€è¿‘30å¤©çš„æ—¥å¿—
- **å‹ç¼©ç­–ç•¥**: è¶…è¿‡7å¤©çš„æ—¥å¿—è‡ªåŠ¨å‹ç¼©
- **æ¸…ç†ç­–ç•¥**: è¶…è¿‡30å¤©çš„æ—¥å¿—è‡ªåŠ¨åˆ é™¤

## ğŸ” æ—¥å¿—æŸ¥è¯¢å’Œåˆ†æ

### å¸¸ç”¨æŸ¥è¯¢æ¨¡å¼

#### 1. æŒ‰æ‰§è¡Œåºå·è¿½è¸ªå®Œæ•´æµç¨‹
```bash
# æŸ¥çœ‹å®Œæ•´çš„æ‰§è¡Œæµç¨‹
grep "1\." backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹ç‰¹å®šæ“ä½œçš„å­æ­¥éª¤
grep "1.1" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰ä¸»æ“ä½œ
grep "^[0-9]* | [0-9]* |" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰å­æ“ä½œ
grep " | [0-9]*\.[0-9]* |" backend/logs/app.log frontend/logs/app.log
```

#### 2. æŒ‰å…³é”®ç‚¹æŸ¥è¯¢
```bash
# æŸ¥çœ‹æ‰€æœ‰å…¥å£ç‚¹
grep "å¼€å§‹" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰å¤–éƒ¨è°ƒç”¨
grep "çˆ¬è™«\|API\|AI" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰çŠ¶æ€å˜åŒ–
grep "æ›´æ–°\|å®Œæˆ\|æˆåŠŸ" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰é”™è¯¯
grep "å¤±è´¥\|é”™è¯¯" backend/logs/app.log frontend/logs/app.log
```

#### 3. æŒ‰æ¨¡å—æŸ¥è¯¢
```bash
# æŸ¥çœ‹APIå±‚æ—¥å¿—
grep "app.api" backend/logs/app.log

# æŸ¥çœ‹æœåŠ¡å±‚æ—¥å¿—
grep "app.services" backend/logs/app.log

# æŸ¥çœ‹ç»„ä»¶æ—¥å¿—
grep "src.components" frontend/logs/app.log
```

#### 4. æŒ‰æ“ä½œç±»å‹æŸ¥è¯¢
```bash
# æŸ¥çœ‹æ‰€æœ‰å¼€å§‹æ“ä½œ
grep "å¼€å§‹" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰å®Œæˆæ“ä½œ
grep "å®Œæˆ" backend/logs/app.log frontend/logs/app.log

# æŸ¥çœ‹æ‰€æœ‰æˆåŠŸæ“ä½œ
grep "æˆåŠŸ" backend/logs/app.log frontend/logs/app.log
```

### æ—¥å¿—åˆ†æå·¥å…·

#### 1. å®æ—¶ç›‘æ§è„šæœ¬
```bash
#!/bin/bash
# å®æ—¶ç›‘æ§é”™è¯¯æ—¥å¿—
tail -f logs/*.log | grep -E "(å¤±è´¥|é”™è¯¯)"
```

#### 2. æ—¥å¿—ç»Ÿè®¡è„šæœ¬
```bash
#!/bin/bash
# ç»Ÿè®¡ä»Šæ—¥æ—¥å¿—
echo "=== ä»Šæ—¥æ—¥å¿—ç»Ÿè®¡ ==="
echo "æ€»æ—¥å¿—æ•°: $(grep "$(date +%Y-%m-%d)" logs/*.log | wc -l)"
echo "é”™è¯¯æ—¥å¿—æ•°: $(grep "$(date +%Y-%m-%d)" logs/*.log | grep -E "(å¤±è´¥|é”™è¯¯)" | wc -l)"
echo "APIè¯·æ±‚æ•°: $(grep "$(date +%Y-%m-%d)" logs/*.log | grep "API" | wc -l)"
echo "æœç´¢æˆåŠŸæ•°: $(grep "$(date +%Y-%m-%d)" logs/*.log | grep "æˆåŠŸ" | wc -l)"
```

#### 3. æ‰§è¡Œæµç¨‹åˆ†æè„šæœ¬
```bash
#!/bin/bash
# åˆ†ææ‰§è¡Œæµç¨‹
echo "=== æ‰§è¡Œæµç¨‹åˆ†æ ==="
echo "ä¸»æ“ä½œæ•°: $(grep "^[0-9]* | [0-9]* |" logs/*.log | wc -l)"
echo "å­æ“ä½œæ•°: $(grep " | [0-9]*\.[0-9]* |" logs/*.log | wc -l)"
echo "å¹³å‡å­æ“ä½œæ•°: $(grep " | [0-9]*\.[0-9]* |" logs/*.log | wc -l) / $(grep "^[0-9]* | [0-9]* |" logs/*.log | wc -l)"
```

## ğŸš€ æœ€ä½³å®è·µ

### 1. å…³é”®éƒ¨ä½æ—¥å¿—åŸåˆ™
- **ç²¾ç®€è®°å½•**: åªåœ¨å…³é”®éƒ¨ä½è®°å½•æ—¥å¿—ï¼Œé¿å…æ—¥å¿—å†—ä½™
- **ä¿¡æ¯å®Œæ•´**: åŒ…å«è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
- **æ‰§è¡Œåºå·**: ä½¿ç”¨åºå·è¿½è¸ªæ‰§è¡Œæµç¨‹
- **æ€§èƒ½å‹å¥½**: å‡å°‘æ—¥å¿—å†™å…¥ï¼Œæå‡åº”ç”¨æ€§èƒ½

### 2. é”™è¯¯å¤„ç†æ—¥å¿—
```python
try:
    result = await some_operation()
    logger.log_result("æ“ä½œæˆåŠŸå®Œæˆ", f"è¿”å›{len(result)}æ¡æ•°æ®")
except SpecificException as e:
    logger.log_result("æ“ä½œå¤±è´¥", f"ç‰¹å®šé”™è¯¯: {str(e)}")
except Exception as e:
    logger.log_result("æ“ä½œå¤±è´¥", f"æœªé¢„æœŸé”™è¯¯: {str(e)}")
```

### 3. æ€§èƒ½ç›‘æ§æ—¥å¿—
```python
import time

start_time = time.time()
# ... æ‰§è¡Œä¸šåŠ¡é€»è¾‘ ...
end_time = time.time()
response_time = end_time - start_time

if response_time > 5.0:
    logger.log_result("æ“ä½œå®Œæˆ", f"è€—æ—¶è¿‡é•¿: {response_time:.3f}s")
else:
    logger.log_result("æ“ä½œå®Œæˆ", f"è€—æ—¶: {response_time:.3f}s")
```

### 4. æ•æ„Ÿä¿¡æ¯å¤„ç†
- **å¯†ç **: ç»ä¸è®°å½•å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯
- **ä¸ªäººä¿¡æ¯**: å¯¹ç”¨æˆ·ä¸ªäººä¿¡æ¯è¿›è¡Œè„±æ•å¤„ç†
- **APIå¯†é’¥**: è®°å½•æ—¶ä½¿ç”¨æ©ç å½¢å¼

### 5. å…³é”®éƒ¨ä½æ—¥å¿—ç­–ç•¥ä¼˜åŠ¿
- âœ… **æ—¥å¿—ç²¾ç®€**: åªè®°å½•å…³é”®ä¿¡æ¯ï¼Œé¿å…æ—¥å¿—å†—ä½™
- âœ… **æ€§èƒ½å‹å¥½**: å‡å°‘æ—¥å¿—å†™å…¥ï¼Œæå‡åº”ç”¨æ€§èƒ½
- âœ… **è°ƒè¯•é«˜æ•ˆ**: å…³é”®ä¿¡æ¯é›†ä¸­ï¼Œå¿«é€Ÿå®šä½é—®é¢˜
- âœ… **ç»´æŠ¤ç®€å•**: æ—¥å¿—ç‚¹å°‘ï¼Œç»´æŠ¤æˆæœ¬ä½
- âœ… **ä¿¡æ¯ä»·å€¼é«˜**: æ¯ä¸ªæ—¥å¿—éƒ½æœ‰æ˜ç¡®çš„ä¸šåŠ¡ä»·å€¼

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### å¼€å‘é˜¶æ®µ
- [ ] å®ç°å…³é”®éƒ¨ä½æ—¥å¿—å™¨
- [ ] åœ¨å…³é”®ä¸šåŠ¡èŠ‚ç‚¹æ·»åŠ æ—¥å¿—è®°å½•
- [ ] å®ç°æ‰§è¡Œåºå·ç”Ÿæˆæœºåˆ¶
- [ ] é…ç½®åˆé€‚çš„æ—¥å¿—çº§åˆ«
- [ ] æµ‹è¯•æ—¥å¿—æ ¼å¼å’Œå†…å®¹

### éƒ¨ç½²é˜¶æ®µ
- [ ] é…ç½®æ—¥å¿—æ–‡ä»¶è½®è½¬ç­–ç•¥
- [ ] è®¾ç½®æ—¥å¿—å­˜å‚¨ç©ºé—´é™åˆ¶
- [ ] é…ç½®æ—¥å¿—ç›‘æ§å’Œå‘Šè­¦
- [ ] æµ‹è¯•æ—¥å¿—æŸ¥è¯¢å’Œåˆ†æåŠŸèƒ½

### è¿ç»´é˜¶æ®µ
- [ ] å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°
- [ ] ç›‘æ§é”™è¯¯æ—¥å¿—æ•°é‡
- [ ] åˆ†ææ‰§è¡Œæµç¨‹æ—¥å¿—
- [ ] æ ¹æ®æ—¥å¿—ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½

## ğŸ”§ é…ç½®ç¤ºä¾‹

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# æ—¥å¿—çº§åˆ«é…ç½®
LOG_LEVEL=INFO
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=true
LOG_MAX_FILE_SIZE=100MB
LOG_BACKUP_COUNT=30

# å…³é”®éƒ¨ä½æ—¥å¿—é…ç½®
ENABLE_KEY_POINT_LOGGING=true
LOG_SEQUENCE_ENABLED=true
```

### å‰ç«¯é…ç½®
```typescript
// vite.config.ts
export default defineConfig({
  define: {
    'import.meta.env.VITE_LOG_LEVEL': JSON.stringify(process.env.LOG_LEVEL || 'INFO'),
    'import.meta.env.VITE_LOG_ENABLE_CONSOLE': JSON.stringify(process.env.LOG_ENABLE_CONSOLE || 'true'),
  }
});
```

### åç«¯é…ç½®
```python
# config.py
import os

LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
LOG_ENABLE_CONSOLE = os.getenv('LOG_ENABLE_CONSOLE', 'true').lower() == 'true'
LOG_ENABLE_FILE = os.getenv('LOG_ENABLE_FILE', 'true').lower() == 'true'
ENABLE_KEY_POINT_LOGGING = os.getenv('ENABLE_KEY_POINT_LOGGING', 'true').lower() == 'true'
LOG_SEQUENCE_ENABLED = os.getenv('LOG_SEQUENCE_ENABLED', 'true').lower() == 'true'
```

---

## ğŸ“ è”ç³»ä¿¡æ¯

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2025-01-06  
**ç»´æŠ¤è€…**: ç‘è¾‰æ±½è½¦é¡¾é—®å¼€å‘å›¢é˜Ÿ

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v2.0 (2025-01-06)
- âœ… æ›´æ–°æ—¥å¿—æ ¼å¼ä¸ºæ‰§è¡Œåºå·æ ¼å¼
- âœ… å®ç°å…³é”®éƒ¨ä½æ—¥å¿—ç­–ç•¥
- âœ… ç®€åŒ–æ—¥å¿—è®°å½•åŸåˆ™
- âœ… æ›´æ–°æŸ¥è¯¢å’Œåˆ†ææ–¹æ³•
- âœ… ä¼˜åŒ–æ€§èƒ½å’Œç»´æŠ¤æ€§

### v1.0 (2025-01-06)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… åŸºç¡€æ—¥å¿—æ ¼å¼è®¾è®¡
- âœ… å‰åç«¯é“¾æ¥æœºåˆ¶
- âœ… æ—¥å¿—çº§åˆ«è§„èŒƒ
